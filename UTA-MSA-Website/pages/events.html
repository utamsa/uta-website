<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MSA UT Arlington — Events</title>

  <!-- Theme + fragments -->
  <link rel="stylesheet" href="../css/navbar.css" />
  <link rel="stylesheet" href="../css/footer.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
  <link rel="stylesheet" href="../css/events.css" />
  <!-- Page-specific styles -->
  <style>
    .calendar {
      width: min(1200px, 92vw);
      margin: 18px auto 0;
      padding: 0 0 24px;
    }

    .view-toggle {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: flex-end;
      margin: 0 0 14px;
    }

    .toggle-btn {
      appearance: none;
      border: 1px solid rgba(18, 60, 102, .15);
      background: #f1f5f9;
      color: #123c66;
      cursor: pointer;
      padding: 10px 14px;
      border-radius: 12px;
      font-weight: 700;
      transition: transform .12s ease, background .2s ease, color .2s ease, border-color .2s ease, box-shadow .2s ease;
    }

    .toggle-btn:hover {
      transform: translateY(-1px);
    }

    .toggle-btn.active {
      background: linear-gradient(90deg, #123c66, #ef7d1a);
      color: #fff;
      border-color: transparent;
      box-shadow: 0 10px 22px rgba(18, 60, 102, .18);
    }

    .cal-wrap {
      position: relative;
      width: 100%;
      height: clamp(520px, 76vh, 960px);
      background: #fff;
      border: 1px solid rgba(12, 16, 22, .08);
      border-radius: 16px;
      overflow: hidden;
      box-shadow: 0 16px 40px rgba(0, 0, 0, .10);
    }

    .cal-wrap iframe {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      border: 0;
    }

    .cal-note {
      color: #475569;
      font-size: .95rem;
      margin: .75rem 2px 0;
    }

    /* Quick-links & highlights */
    .quick-links {
      display: flex;
      gap: 12px;
      justify-content: center;
      flex-wrap: wrap;
    }

    .highlights {
      width: min(1200px, 92vw);
      margin-inline: auto;
      display: grid;
      gap: 16px;
      grid-template-columns: repeat(3, 1fr);
    }

    .card {
      background: #fff;
      border: 1px solid rgba(12, 16, 22, .08);
      border-radius: 16px;
      padding: 18px;
      box-shadow: 0 10px 24px rgba(0, 0, 0, .06);
    }

    .card h3 {
      margin: 4px 0 6px;
      color: #123c66;
      font-size: 1.15rem;
    }

    .card p {
      margin: 0;
      color: #334155;
    }

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-weight: 700;
      color: #0c1016;
    }

    .badge i {
      color: #ef7d1a;
    }

    @media (max-width:900px) {
      .highlights {
        grid-template-columns: 1fr;
      }
    }

    /* Upcoming events */
    .upcoming-grid {
      display: grid;
      gap: 24px;
      grid-template-columns: 1fr;
      margin-top: 20px;
    }

    .event-card {
      background: #fff;
      border: 1px solid rgba(12, 16, 22, .08);
      border-radius: 16px;
      padding: 18px;
      box-shadow: 0 10px 24px rgba(0, 0, 0, .06);
      text-align: center;
    }

    .event-flyer {
      width: 100%;
      border-radius: 12px;
      margin-bottom: 12px;
    }

    .event-title {
      font-size: 1.2rem;
      color: #123c66;
      margin: 8px 0 4px;
    }

    .event-date {
      color: #334155;
      margin: 0 0 12px;
    }

    .hidden {
      display: none;
    }
  </style>
</head>

<body>
  <!-- Navbar fragment -->
  <div data-include="./fragments/navBar.html"></div>

  <!-- HERO -->
  <section id="hero" class="section hero">
    <div class="hero-wrap">
      <p class="eyebrow">Stay Connected</p>
      <h1 class="title">Explore our <span>events, programs,</span> and <span>calendar</span>.</h1>
      <p class="subhead">
        From Jumu’ah to socials, study circles, and service projects — stay in the loop with everything happening at MSA
        UTA.
      </p>

      <div class="hero-actions">
        <a class="btn btn-primary" href="#upcoming">Upcoming Events</a>
        <a class="btn btn-ghost" href="#calendar-section">View Calendar</a>
      </div>
    </div>
  </section>


  <!-- UPCOMING EVENTS -->
  <section id="upcoming" class="section alt">
    <div class="container">
      <h2 class="section-title center">Upcoming Events</h2>
      <p class="muted tiny center">Check out what’s coming up soon.</p>

      <div class="upcoming-grid" style="grid-template-columns: repeat(auto-fit,minmax(280px,1fr));">
        <!-- Tacos & Trivia Flyer -->
        <article class="event-card">
          <img src="../assets/events/tacos-trivia.png" alt="Tacos & Trivia Flyer" class="event-flyer" />

          <h3 class="event-title">Tacos & Trivia</h3>
          <p class="event-date">
            Thursday, Sept. 25 • 6-8 PM • SEIR 298
          </p>

          <button class="btn btn-primary rsvp-btn">RSVP Now</button>
          <div class="rsvp-form hidden">
            <div data-customgform="cmfq2d2qj00hewnkx73we7ubo"></div>
          </div>
        </article>

        <!-- Blueprint Flyer -->
        <article class="event-card">
          <img src="../assets/events/Blueprint.png" alt="The Blueprint Flyer" class="event-flyer" />
          <h3 class="event-title">The Blueprint</h3>
          <p class="event-date">
            Tuesdays • 5:30 PM – Location: SEIR 294
          </p>
          <!-- RSVP removed
        <button class="btn btn-primary rsvp-btn">RSVP Now</button>
         <div class="rsvp-form hidden">
         <div data-customgform="cmf61ic8j00auwnknpxyquaxs"></div>
        </div>
        -->
        </article>

        <!-- Listeners Corner Flyer -->
        <article class="event-card">
          <img src="../assets/events/listeners-corner-flyer.png" alt="Listeners Corner Flyer" class="event-flyer" />

          <h3 class="event-title">Listeners Corner</h3>
          <p class="event-date">
            Wednesdays • Starting Sept. 24 • 11:30 AM • In front of the UC
          </p>

          <!-- RSVP disabled
        <button class="btn btn-primary rsvp-btn">RSVP Now</button>
        <div class="rsvp-form hidden">
          <div data-customgform="YOUR_FORM_ID_HERE"></div>
        </div>
        -->
        </article>
      </div>
    </div>
  </section>


  <!-- HIGHLIGHTS -->
  <section id="highlights" class="section">
    <div class="container">
      <h2 class="section-title center">Highlights</h2>
      <div class="highlights">
        <article class="card">
          <div class="badge"><i class="fa-solid fa-mosque"></i> Jumu’ah on Campus</div>
          <h3>Every Friday • 1:30 PM</h3>
          <p>Join us for Jumu’ah in the UTA Musallah. Come a bit early to find a spot and meet the community!</p>
        </article>
        <article class="card">
          <div class="badge"><i class="fa-solid fa-book-quran"></i> Study Circles</div>
          <h3>Weekly • Evenings</h3>
          <p>Interactive halaqas covering faith, character, and seerah. All levels welcome—bring a friend.</p>
        </article>
        <article class="card">
          <div class="badge"><i class="fa-solid fa-hand-holding-heart"></i> Service Projects</div>
          <h3>Monthly • Weekends</h3>
          <p>Volunteer with us around DFW—food drives, campus cleanups, and collaborative initiatives.</p>
        </article>
      </div>
    </div>
  </section>

  <!-- CALENDAR -->
  <section id="calendar-section" class="section alt">
    <div class="container">
      <h2 class="section-title center">Calendar</h2>
      <p class="muted tiny center">Fast access to our calendar and event resources.</p>

      <!-- Quick Links above calendar -->
      <div class="quick-links" style="margin:16px 0">
        <a class="btn btn-primary" href="#calendar"><i class="fa-regular fa-calendar"></i> View Calendar</a>
        <a class="btn btn-ghost"
          href="https://calendar.google.com/calendar/u/0?cid=3829b628fb7826ae1317e90d0ceb01a699861ca1339348da612a20174cca3db7@group.calendar.google.com"
          target="_blank" rel="noopener"><i class="fa-solid fa-plus"></i> Subscribe</a>
        <a class="btn btn-ghost"
          href="https://calendar.google.com/calendar/ical/3829b628fb7826ae1317e90d0ceb01a699861ca1339348da612a20174cca3db7%40group.calendar.google.com/public/basic.ics"
          target="_blank" rel="noopener"><i class="fa-solid fa-file-arrow-down"></i> Download .ics</a>
      </div>

      <main id="calendar" class="calendar" role="main" aria-label="UTA MSA Calendar">
        <div class="view-toggle" role="tablist" aria-label="Calendar view">
          <button class="toggle-btn active" data-mode="MONTH" role="tab" aria-selected="true">Month</button>
          <button class="toggle-btn" data-mode="WEEK" role="tab" aria-selected="false">Week</button>
          <button class="toggle-btn" data-mode="AGENDA" role="tab" aria-selected="false">Agenda</button>
        </div>

        <div class="cal-wrap">
          <iframe id="gcal-frame" title="UTA MSA Events Calendar" loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div>

        <p class="cal-note">
          Times are shown in Central Time (America/Chicago). Tap any event for details or to add it to your own
          calendar.
        </p>
      </main>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq" class="section alt">
    <div class="container">
      <h2 class="section-title center">FAQ</h2>
      <div class="faq">
        <details>
          <summary>Why don’t I see any events?</summary>
          <p class="muted">Make sure the calendar is public and your view is set correctly. Try switching to the Agenda
            view above. If issues persist, open the full calendar via the “Open in Google Calendar” button.</p>
        </details>
        <details>
          <summary>How do I add this calendar to my phone?</summary>
          <p class="muted">Tap “Add to My Calendar” above. On iPhone, you can also subscribe to the
            <a href="https://calendar.google.com/calendar/ical/3829b628fb7826ae1317e90d0ceb01a699861ca1339348da612a20174cca3db7%40group.calendar.google.com/public/basic.ics"
              target="_blank" rel="noopener">.ics feed</a>.
          </p>
        </details>
        <details>
          <summary>Who can attend MSA events?</summary>
          <p class="muted">Everyone is welcome! Most events are open to all students and community members unless
            otherwise noted.</p>
        </details>
      </div>
    </div>
  </section>

  <!-- CONTACT / FOLLOW -->
  <section id="contact" class="section center">
    <div class="container">
      <h2 class="section-title">Questions or want to get involved?</h2>
      <p class="muted tiny">Reach out using the links below.</p>
      <div class="contact-links"
        style="margin-top:12px; display:flex; gap:12px; justify-content:center; flex-wrap:wrap;">
        <a class="btn btn-primary" href="https://www.instagram.com/msaatuta/" target="_blank"><i
            class="fab fa-instagram"></i> Instagram</a>
        <a class="btn btn-ghost" href="https://linktr.ee/utamsa" target="_blank"><i class="fas fa-link"></i>
          Linktree</a>
        <a class="btn btn-ghost" href="mailto:utarlington.msa@gmail.com"><i class="fas fa-envelope"></i> Email Us</a>
        <a class="btn btn-ghost" href="https://chat.whatsapp.com/HQmjAMqPr8X6bpYwAs5oxD" target="_blank"><i
            class="fab fa-whatsapp"></i> Brothers WhatsApp</a>
        <a class="btn btn-ghost" href="https://chat.whatsapp.com/JZk121BlGr6D0RMQuZ48Sz" target="_blank"><i
            class="fab fa-whatsapp"></i> Sisters WhatsApp</a>
      </div>
    </div>
  </section>

  <!-- Footer fragment -->
  <div data-include="./fragments/footer.html"></div>

  <!-- Fragment loader -->
  <script>
    (async () => {
      const tasks = [...document.querySelectorAll('[data-include]')].map(async el => {
        const file = el.getAttribute('data-include');
        const url = new URL(file, window.location.href).href;
        try {
          const res = await fetch(url, { cache: 'no-store' });
          if (!res.ok) throw new Error(res.status + ' ' + res.statusText);
          el.outerHTML = await res.text();
        } catch (e) {
          el.outerHTML = `<!-- include failed: ${file} (${e}) -->`;
        }
      });
      await Promise.all(tasks);
      document.dispatchEvent(new Event('fragments:ready'));
    })();
  </script>

  <!-- Calendar view toggle logic -->
  <script>
    const CAL_ID = "3829b628fb7826ae1317e90d0ceb01a699861ca1339348da612a20174cca3db7@group.calendar.google.com";
    const BASE = new URL("https://calendar.google.com/calendar/embed");
    BASE.searchParams.set("src", CAL_ID);
    BASE.searchParams.set("ctz", "America/Chicago");
    BASE.searchParams.set("showTitle", "0");
    BASE.searchParams.set("showTabs", "0");
    BASE.searchParams.set("showPrint", "0");
    BASE.searchParams.set("showCalendars", "0");

    const frame = document.getElementById("gcal-frame");

    function setMode(mode) {
      const u = new URL(BASE);
      u.searchParams.set("mode", mode);
      frame.src = u.toString();
      document.querySelectorAll(".toggle-btn").forEach(b => {
        const on = b.dataset.mode === mode;
        b.classList.toggle("active", on);
        b.setAttribute("aria-selected", on ? "true" : "false");
      });
    }

    const defaultMode = matchMedia("(max-width: 640px)").matches ? "AGENDA" : "MONTH";
    setMode(defaultMode);

    document.querySelectorAll(".toggle-btn").forEach(b =>
      b.addEventListener("click", () => setMode(b.dataset.mode))
    );
  </script>


  <script>
    document.querySelectorAll(".rsvp-btn").forEach(btn => {
      btn.addEventListener("click", () => {
        const form = btn.parentElement.querySelector(".rsvp-form");
        form.classList.toggle("hidden");
        btn.textContent = form.classList.contains("hidden") ? "RSVP Now" : "Hide Form";
      });
    });
  </script>

  <script async src="https://cdn.customgform.com/cgf.js"></script>


  <!-- Navbar JS after fragments -->
  <script src="../script/navBar.js"></script>
</body>

</html>